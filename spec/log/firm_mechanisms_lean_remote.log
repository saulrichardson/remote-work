-----------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/saul/Dropbox/Remote Work Startups/main/spec/log/firm_mechanisms_lean_remote.log
  log type:  text
 opened on:  27 Jun 2025, 02:53:11

. 
. 
. // 1) Globals + setup ---------------------------------------------------------
. do "../src/globals.do"

. global raw_data "../data/raw"

. global processed_data  "../data/processed"

. global results "../results/raw"

. global clean_results "../results/cleaned"

. 
. 
. 
. 
. 
end of do-file

. local result_dir "$results/`specname'"

. capture mkdir "`result_dir'"

. 
. // 2) Load panel & construct treatment-specific var3/var5 --------------------
. use "$processed_data/firm_panel.dta", clear

. 
. // Replace var3 / var5 with the requested discrete definitions
. if "`treat'" == "fullremote" {
.     capture drop var3 var5
.     gen var3 = var3_fullrem
.     gen var5 = var5_fullrem
. }

. else if "`treat'" == "hybrid" {
.     capture drop var3 var5
.     gen var3 = var3_hybrid
.     gen var5 = var5_hybrid
. }

. else {
.     di as error "Unknown treat=`treat' — must be fullremote or hybrid"
Unknown treat=remote — must be fullremote or hybrid
.     exit 1
--Break--
r(1);
. }
--Break--
r(1);

end of do-file

--Break--
r(1);

. do "/var/folders/hg/s3xm9w393gxby64_zklmhgbc0000gn/T//SD22469.000000"

. *============================================================*
. * do/firm_mechanisms_lean_discrete.do
. *  — Discrete treatment version of the firm‐mechanism regressions
. *    Allows switching between *full‐remote* and *hybrid* definitions
. *    of Covid treatment (var3 / var5) via a positional argument.
. *============================================================*
. 
. *---------------------------------------------------------------------------*
. * 0) Parse optional `treat' argument (default = "hybrid")
. *     Accepts values:  fullremote | hybrid
. *---------------------------------------------------------------------------*
. 
. args treat

. if "`treat'" == "" local treat "fullremote"

. 
. capture log close

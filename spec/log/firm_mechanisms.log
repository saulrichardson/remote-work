-----------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/saul/Dropbox/Remote Work Startups/main/spec/log/firm_mechanisms.log
  log type:  text
 opened on:  28 May 2025, 06:01:46

. 
. 
. // 0) Globals + setup
. do "../src/globals.do"

. global raw_data "../data/raw"

. global processed_data  "../data/processed"

. global results "../results/raw"

. global clean_results "../results/cleaned"

. 
. 
. 
end of do-file

. local result_dir "$results/`specname'"

. capture mkdir "`result_dir'"

. 
. // 1) Load & prepare once
. use "$processed_data/firm_panel.dta", clear

. gen seniority_4 = !inrange(seniority_levels,1,3)

. 
. // interactions
. gen var8  = covid*rent
(3,186 missing values generated)

. gen var9  = covid*rent*remote
(3,186 missing values generated)

. gen var10 = teleworkable*covid*rent
(3,186 missing values generated)

. gen var11 = covid*hhi_1000
(34 missing values generated)

. gen var12 = covid*hhi_1000*remote
(34 missing values generated)

. gen var13 = teleworkable*covid*hhi_1000
(34 missing values generated)

. gen var14 = covid*seniority_4

. gen var15 = covid*seniority_4*remote

. gen var16 = teleworkable*covid*seniority_4

. 
. // 2) postfile definition
. capture postclose handle

. tempfile out

. postfile handle ///
>     str8   model_type  /// "OLS", "IV"
>     str244 spec        ///
>     str40  param       ///
>     double coef se pval pre_mean rkf nobs /// <-- exactly five numeric columns
>     using `out', replace
(file /var/folders/hg/s3xm9w393gxby64_zklmhgbc0000gn/T//S_39148.000001 not found)

. 
. 
. 
. local specs "baseline rent hhi rent_hhi seniority rent_seniority hhi_seniority rent_hhi_seniority"

. 
. 
. // Define OLS exogenous regressors by spec
. local spec_ols_exog1  var4

. local spec_ols_exog2  var4 var8 var9

. local spec_ols_exog3  var4 var11 var12

. local spec_ols_exog4  var4 var8 var9 var11 var12

. local spec_ols_exog5  var4 var14 var15

. local spec_ols_exog6  var4 var8 var9 var14 var15

. local spec_ols_exog7  var4 var11 var12 var14 var15

. local spec_ols_exog8  var4 var8 var9 var11 var12 var14 var15

. 
. // Define IV exogenous regressors by spec (drop the 3‐way terms)
. local spec_iv_exog1   var4

. local spec_iv_exog2   var4 var8

. local spec_iv_exog3   var4 var11

. local spec_iv_exog4   var4 var8 var11

. local spec_iv_exog5   var4 var14

. local spec_iv_exog6   var4 var8 var14

. local spec_iv_exog7   var4 var11 var14

. local spec_iv_exog8   var4 var8 var11 var14

. 
. 
. // instruments by spec
. local spec_instr1 var6 var7

. local spec_instr2 var6 var7 var10

. local spec_instr3 var6 var7 var13

. local spec_instr4 var6 var7 var10 var13

. local spec_instr5 var6 var7 var16

. local spec_instr6 var6 var7 var10 var16

. local spec_instr7 var6 var7 var13 var16

. local spec_instr8 var6 var7 var10 var13 var16

. 
. 
. // endogenous vars by spec
. local spec_endo1  var3 var5

. local spec_endo2  var3 var5 var9

. local spec_endo3  var3 var5 var12

. local spec_endo4  var3 var5 var9 var12

. local spec_endo5  var3 var5 var15

. local spec_endo6  var3 var5 var9 var15

. local spec_endo7  var3 var5 var12 var15

. local spec_endo8  var3 var5 var9 var12 var15

. 
. 
. * ─── SPEC 1: Baseline on the full sample ────────────────────────
. display as text "→ Spec 1: baseline (full sample)"
→ Spec 1: baseline (full sample)

. 
. summarize growth_rate_we if covid == 0, meanonly

. local pre_mean = r(mean)

. 
. // 1a) OLS
. reghdfe growth_rate_we var3 var5 var4, ///
>     absorb(firm_id yh) vce(cluster firm_id)
(MWFE estimator converged in 4 iterations)

HDFE Linear regression                            Number of obs   =     41,980
Absorbing 2 HDFE groups                           F(   3,   3507) =      24.67
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3488
                                                  Adj R-squared   =     0.2892
                                                  Within R-sq.    =     0.0055
Number of clusters (firm_id) =      3,508         Root MSE        =     0.1853

                            (Std. err. adjusted for 3,508 clusters in firm_id)
------------------------------------------------------------------------------
             |               Robust
growth_rat~e | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        var3 |   .0032223   .0046965     0.69   0.493    -.0059859    .0124305
        var5 |   .0699523   .0236946     2.95   0.003     .0234957     .116409
        var4 |   -.117261   .0211647    -5.54   0.000    -.1587573   -.0757646
       _cons |   .0998093   .0012425    80.33   0.000     .0973732    .1022453
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     firm_id |      3508        3508           0    *|
          yh |        12           1          11     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. local N = e(N)

. foreach p in var3 var5 {
  2.     local b    = _b[`p']
  3.     local se   = _se[`p']
  4.     local t    = `b'/`se'
  5.     local pval = 2*ttail(e(df_r), abs(`t'))
  6.     post handle ("OLS") ("baseline") ("`p'") ///
>                 (`b') (`se') (`pval') (`pre_mean') ///
>                 (.) (`N')
  7. }

. 
. // 1b) IV
. ivreghdfe growth_rate_we (var3 var5 = var6 var7) var4, ///
>     absorb(firm_id yh) vce(cluster firm_id) savefirst
(MWFE estimator converged in 4 iterations)

Stored estimation results
-------------------------
---------------------------------------------------------------------------
             |           Dependent  Number of        
        Name | Command    variable     param.  Title 
-------------+-------------------------------------------------------------
_ivreg2_var3 | ivreg2         var3          3  First-stage regression: var3
_ivreg2_var5 | ivreg2         var5          3  First-stage regression: var5
---------------------------------------------------------------------------

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on firm_id

Number of clusters (firm_id) =    3508                Number of obs =    41980
                                                      F(  3,  3507) =    22.94
                                                      Prob > F      =   0.0000
Total (centered) SS     =   1327.10484                Centered R2   =   0.0022
Total (uncentered) SS   =   1327.10484                Uncentered R2 =   0.0022
Residual SS             =  1324.192664                Root MSE      =    .1776

------------------------------------------------------------------------------
             |               Robust
growth_rat~e | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        var3 |   .0057809   .0093488     0.62   0.536    -.0125488    .0241105
        var5 |   .2088021   .1017564     2.05   0.040     .0092944    .4083098
        var4 |   -.236576   .0865024    -2.73   0.006     -.406176    -.066976
------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             25.467
                                                   Chi-sq(1) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):             1388.072
                         (Kleibergen-Paap rk Wald F statistic):         16.530
Stock-Yogo weak ID test critical values: 10% maximal IV size              7.03
                                         15% maximal IV size              4.58
                                         20% maximal IV size              3.95
                                         25% maximal IV size              3.63
Source: Stock-Yogo (2005).  Reproduced by permission.
NB: Critical values are for Cragg-Donald F statistic and i.i.d. errors.
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         0.000
                                                 (equation exactly identified)
------------------------------------------------------------------------------
Instrumented:         var3 var5
Included instruments: var4
Excluded instruments: var6 var7
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     firm_id |      3508        3508           0    *|
          yh |        12           1          11     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. local rkf = e(rkf)

. local N   = e(N)

. foreach p in var3 var5 {
  2.     local b    = _b[`p']
  3.     local se   = _se[`p']
  4.     local t    = `b'/`se'
  5.     local pval = 2*ttail(e(df_r), abs(`t'))
  6.     post handle ("IV") ("baseline") ("`p'") ///
>                 (`b') (`se') (`pval') (`pre_mean') ///
>                 (`rkf') (`N')
  7. }

. 
. // 2) Restrict for mechanism specs
. // Align sample with wage-dispersion mechanisms: require all mechanism vars
. drop if missing(rent, hhi_1000, seniority_4, sd_wage, p90_p10_gap)
(3,544 observations deleted)

. 
. 
. 
. // 4) Loop
. forvalues i = 2/8 {
  2.     // 1) pick the spec name
.     local spec    : word `i' of `specs'
  3. 
.     // 2) build up the four pieces we need
.     local ols_exog "`spec_ols_exog`i''"
  4.     local iv_exog  "`spec_iv_exog`i''"
  5.     local instr    "`spec_instr`i''"
  6.     local endo     "`spec_endo`i''"
  7.         
. 
.     display as text "→ Spec `i': `spec'"
  8. 
.     summarize growth_rate_we if covid == 0, meanonly
  9.     local pre_mean = r(mean)
 10. 
.     // 4a) OLS
.     reghdfe growth_rate_we var3 var5 `ols_exog', ///
>         absorb(firm_id yh) vce(cluster firm_id)
 11.         
.         local N = e(N)  
 12.         
.     foreach p in var3 var5 {
 13.         local b    = _b[`p']
 14.         local se   = _se[`p']
 15.         local t    = `b'/`se'
 16.         local pval = 2*ttail(e(df_r), abs(`t'))
 17.        post handle ("OLS") ("`spec'") ("`p'") ///
>                     (`b') (`se') (`pval') (`pre_mean') ///
>                     (.) (`N')
 18.     }
 19. 
.     // 4b) IV
.     ivreghdfe  growth_rate_we (`endo' = `instr') `iv_exog', ///
>         absorb(firm_id yh) vce(cluster firm_id) savefirst
 20.                 
.     local rkf = e(rkf)
 21.         local N = e(N)  
 22.         
.     foreach p in var3 var5 {
 23.         local b    = _b[`p']
 24.         local se   = _se[`p']
 25.         local t    = `b'/`se'
 26.         local pval = 2*ttail(e(df_r), abs(`t'))
 27.        post handle ("IV") ("`spec'") ("`p'") ///
>                     (`b') (`se') (`pval') (`pre_mean') ///
>                     (`rkf') (`N')
 28.     }
 29. 
. }
→ Spec 2: rent
(MWFE estimator converged in 4 iterations)

HDFE Linear regression                            Number of obs   =     38,436
Absorbing 2 HDFE groups                           F(   5,   3206) =      16.33
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3518
                                                  Adj R-squared   =     0.2925
                                                  Within R-sq.    =     0.0061
Number of clusters (firm_id) =      3,207         Root MSE        =     0.1849

                            (Std. err. adjusted for 3,207 clusters in firm_id)
------------------------------------------------------------------------------
             |               Robust
growth_rat~e | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        var3 |   .0068644   .0113855     0.60   0.547    -.0154593     .029188
        var5 |   .0706849   .0256151     2.76   0.006     .0204613    .1209084
        var4 |  -.1184136   .0227323    -5.21   0.000    -.1629849   -.0738423
        var8 |  -.0001224   .0002203    -0.56   0.579    -.0005543    .0003096
        var9 |  -.0001068   .0003289    -0.32   0.745    -.0007517     .000538
       _cons |   .1039091   .0029548    35.17   0.000     .0981156    .1097026
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     firm_id |      3207        3207           0    *|
          yh |        12           1          11     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(MWFE estimator converged in 4 iterations)

Stored estimation results
-------------------------
---------------------------------------------------------------------------
             |           Dependent  Number of        
        Name | Command    variable     param.  Title 
-------------+-------------------------------------------------------------
_ivreg2_var3 | ivreg2         var3          5  First-stage regression: var3
_ivreg2_var5 | ivreg2         var5          5  First-stage regression: var5
_ivreg2_var9 | ivreg2         var9          5  First-stage regression: var9
---------------------------------------------------------------------------

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on firm_id

Number of clusters (firm_id) =    3207                Number of obs =    38436
                                                      F(  5,  3206) =    15.21
                                                      Prob > F      =   0.0000
Total (centered) SS     =   1211.55256                Centered R2   =  -0.0082
Total (uncentered) SS   =   1211.55256                Uncentered R2 =  -0.0082
Residual SS             =  1221.521767                Root MSE      =    .1783

------------------------------------------------------------------------------
             |               Robust
growth_rat~e | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        var3 |  -.1129942   .0433674    -2.61   0.009    -.1980248   -.0279636
        var5 |   .1392547   .0993296     1.40   0.161    -.0555012    .3340106
        var9 |   .0046281   .0016255     2.85   0.004      .001441    .0078152
        var4 |  -.1936906   .0870423    -2.23   0.026    -.3643547   -.0230264
        var8 |  -.0037082   .0012223    -3.03   0.002    -.0061047   -.0013117
------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             31.643
                                                   Chi-sq(1) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):              467.517
                         (Kleibergen-Paap rk Wald F statistic):         11.267
Stock-Yogo weak ID test critical values:                       <not available>
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         0.000
                                                 (equation exactly identified)
------------------------------------------------------------------------------
Instrumented:         var3 var5 var9
Included instruments: var4 var8
Excluded instruments: var6 var7 var10
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     firm_id |      3207        3207           0    *|
          yh |        12           1          11     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
→ Spec 3: hhi
(MWFE estimator converged in 4 iterations)

HDFE Linear regression                            Number of obs   =     38,436
Absorbing 2 HDFE groups                           F(   5,   3206) =      28.72
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3550
                                                  Adj R-squared   =     0.2960
                                                  Within R-sq.    =     0.0110
Number of clusters (firm_id) =      3,207         Root MSE        =     0.1845

                            (Std. err. adjusted for 3,207 clusters in firm_id)
------------------------------------------------------------------------------
             |               Robust
growth_rat~e | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        var3 |  -.0185788   .0068321    -2.72   0.007    -.0319746    -.005183
        var5 |   .0625241   .0248609     2.51   0.012     .0137792    .1112689
        var4 |  -.1225251   .0223206    -5.49   0.000    -.1662892   -.0787609
       var11 |   4.82e-06   3.16e-06     1.52   0.128    -1.39e-06     .000011
       var12 |   .0000211   5.55e-06     3.80   0.000     .0000102     .000032
       _cons |   .1009205   .0017063    59.14   0.000     .0975749    .1042661
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     firm_id |      3207        3207           0    *|
          yh |        12           1          11     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(MWFE estimator converged in 4 iterations)

Stored estimation results
-------------------------
----------------------------------------------------------------------------
             |           Dependent  Number of        
        Name | Command    variable     param.  Title 
-------------+--------------------------------------------------------------
_ivreg2_var3 | ivreg2         var3          5  First-stage regression: var3
_ivreg2_var5 | ivreg2         var5          5  First-stage regression: var5
_ivreg2_v~12 | ivreg2        var12          5  First-stage regression: var12
----------------------------------------------------------------------------

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on firm_id

Number of clusters (firm_id) =    3207                Number of obs =    38436
                                                      F(  5,  3206) =    27.41
                                                      Prob > F      =   0.0000
Total (centered) SS     =   1211.55256                Centered R2   =   0.0090
Total (uncentered) SS   =   1211.55256                Uncentered R2 =   0.0090
Residual SS             =  1200.670379                Root MSE      =    .1768

------------------------------------------------------------------------------
             |               Robust
growth_rat~e | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        var3 |  -.0392236   .0184724    -2.12   0.034    -.0754424   -.0030047
        var5 |   .0368556   .1019686     0.36   0.718    -.1630748    .2367859
       var12 |   .0000532   .0000176     3.02   0.003     .0000187    .0000877
        var4 |  -.1046241   .0878494    -1.19   0.234    -.2768707    .0676225
       var11 |  -.0000173   .0000125    -1.38   0.167    -.0000418    7.23e-06
------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             23.416
                                                   Chi-sq(1) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):              796.220
                         (Kleibergen-Paap rk Wald F statistic):         10.144
Stock-Yogo weak ID test critical values:                       <not available>
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         0.000
                                                 (equation exactly identified)
------------------------------------------------------------------------------
Instrumented:         var3 var5 var12
Included instruments: var4 var11
Excluded instruments: var6 var7 var13
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     firm_id |      3207        3207           0    *|
          yh |        12           1          11     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
→ Spec 4: rent_hhi
(MWFE estimator converged in 4 iterations)

HDFE Linear regression                            Number of obs   =     38,436
Absorbing 2 HDFE groups                           F(   7,   3206) =      21.08
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3550
                                                  Adj R-squared   =     0.2960
                                                  Within R-sq.    =     0.0110
Number of clusters (firm_id) =      3,207         Root MSE        =     0.1845

                            (Std. err. adjusted for 3,207 clusters in firm_id)
------------------------------------------------------------------------------
             |               Robust
growth_rat~e | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        var3 |  -.0157384   .0129601    -1.21   0.225    -.0411494    .0096726
        var5 |   .0625722   .0254219     2.46   0.014     .0127273    .1124171
        var4 |  -.1213616   .0226561    -5.36   0.000    -.1657834   -.0769397
        var8 |  -.0000909   .0002219    -0.41   0.682     -.000526    .0003442
        var9 |  -.0000432   .0003266    -0.13   0.895    -.0006835    .0005971
       var11 |   4.77e-06   3.18e-06     1.50   0.134    -1.47e-06     .000011
       var12 |    .000021   5.60e-06     3.75   0.000       .00001     .000032
       _cons |    .102118   .0033505    30.48   0.000     .0955487    .1086873
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     firm_id |      3207        3207           0    *|
          yh |        12           1          11     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(MWFE estimator converged in 4 iterations)

Stored estimation results
-------------------------
----------------------------------------------------------------------------
             |           Dependent  Number of        
        Name | Command    variable     param.  Title 
-------------+--------------------------------------------------------------
_ivreg2_var3 | ivreg2         var3          7  First-stage regression: var3
_ivreg2_var5 | ivreg2         var5          7  First-stage regression: var5
_ivreg2_var9 | ivreg2         var9          7  First-stage regression: var9
_ivreg2_v~12 | ivreg2        var12          7  First-stage regression: var12
----------------------------------------------------------------------------

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on firm_id

Number of clusters (firm_id) =    3207                Number of obs =    38436
                                                      F(  7,  3206) =    20.83
                                                      Prob > F      =   0.0000
Total (centered) SS     =   1211.55256                Centered R2   =  -0.0001
Total (uncentered) SS   =   1211.55256                Uncentered R2 =  -0.0001
Residual SS             =  1211.733592                Root MSE      =    .1776

------------------------------------------------------------------------------
             |               Robust
growth_rat~e | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        var3 |  -.1567987   .0444104    -3.53   0.000    -.2438744   -.0697231
        var5 |   .0257572   .1009018     0.26   0.799    -.1720815    .2235959
        var9 |   .0044682   .0016214     2.76   0.006     .0012891    .0076473
       var12 |   .0000496   .0000177     2.80   0.005     .0000149    .0000843
        var4 |   -.107123   .0885179    -1.21   0.226    -.2806804    .0664344
        var8 |  -.0034709   .0012245    -2.83   0.005    -.0058719     -.00107
       var11 |  -.0000149   .0000126    -1.18   0.239    -.0000397    9.91e-06
------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             31.715
                                                   Chi-sq(1) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):              327.146
                         (Kleibergen-Paap rk Wald F statistic):          8.405
Stock-Yogo weak ID test critical values:                       <not available>
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         0.000
                                                 (equation exactly identified)
------------------------------------------------------------------------------
Instrumented:         var3 var5 var9 var12
Included instruments: var4 var8 var11
Excluded instruments: var6 var7 var10 var13
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     firm_id |      3207        3207           0    *|
          yh |        12           1          11     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
→ Spec 5: seniority
(MWFE estimator converged in 4 iterations)

HDFE Linear regression                            Number of obs   =     38,436
Absorbing 2 HDFE groups                           F(   5,   3206) =      23.85
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3533
                                                  Adj R-squared   =     0.2942
                                                  Within R-sq.    =     0.0084
Number of clusters (firm_id) =      3,207         Root MSE        =     0.1847

                            (Std. err. adjusted for 3,207 clusters in firm_id)
------------------------------------------------------------------------------
             |               Robust
growth_rat~e | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        var3 |   .0239486   .0238158     1.01   0.315    -.0227472    .0706444
        var5 |   .0675955   .0246614     2.74   0.006     .0192418    .1159492
        var4 |  -.1251995   .0219734    -5.70   0.000     -.168283   -.0821161
       var14 |  -.0326845   .0196644    -1.66   0.097    -.0712406    .0058716
       var15 |  -.0289236   .0245444    -1.18   0.239    -.0770478    .0192007
       _cons |   .1156258   .0079392    14.56   0.000     .1000594    .1311922
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     firm_id |      3207        3207           0    *|
          yh |        12           1          11     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(MWFE estimator converged in 4 iterations)

Stored estimation results
-------------------------
----------------------------------------------------------------------------
             |           Dependent  Number of        
        Name | Command    variable     param.  Title 
-------------+--------------------------------------------------------------
_ivreg2_var3 | ivreg2         var3          5  First-stage regression: var3
_ivreg2_var5 | ivreg2         var5          5  First-stage regression: var5
_ivreg2_v~15 | ivreg2        var15          5  First-stage regression: var15
----------------------------------------------------------------------------

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on firm_id

Number of clusters (firm_id) =    3207                Number of obs =    38436
                                                      F(  5,  3206) =    22.28
                                                      Prob > F      =   0.0000
Total (centered) SS     =   1211.55256                Centered R2   =   0.0075
Total (uncentered) SS   =   1211.55256                Uncentered R2 =   0.0075
Residual SS             =  1202.467085                Root MSE      =    .1769

------------------------------------------------------------------------------
             |               Robust
growth_rat~e | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        var3 |   -.037135   .0673848    -0.55   0.582    -.1692568    .0949867
        var5 |   .1217415   .0964189     1.26   0.207    -.0673075    .3107905
       var15 |   .0434546   .0681868     0.64   0.524    -.0902396    .1771488
        var4 |   -.173081   .0825296    -2.10   0.036    -.3348971   -.0112649
       var14 |   -.088627    .053684    -1.65   0.099    -.1938853    .0166314
------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             21.815
                                                   Chi-sq(1) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):              846.730
                         (Kleibergen-Paap rk Wald F statistic):          9.836
Stock-Yogo weak ID test critical values:                       <not available>
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         0.000
                                                 (equation exactly identified)
------------------------------------------------------------------------------
Instrumented:         var3 var5 var15
Included instruments: var4 var14
Excluded instruments: var6 var7 var16
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     firm_id |      3207        3207           0    *|
          yh |        12           1          11     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
→ Spec 6: rent_seniority
(MWFE estimator converged in 4 iterations)

HDFE Linear regression                            Number of obs   =     38,436
Absorbing 2 HDFE groups                           F(   7,   3206) =      17.47
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3534
                                                  Adj R-squared   =     0.2942
                                                  Within R-sq.    =     0.0085
Number of clusters (firm_id) =      3,207         Root MSE        =     0.1847

                            (Std. err. adjusted for 3,207 clusters in firm_id)
------------------------------------------------------------------------------
             |               Robust
growth_rat~e | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        var3 |   .0284387   .0255434     1.11   0.266    -.0216442    .0785217
        var5 |    .068073   .0251572     2.71   0.007     .0187473    .1173987
        var4 |  -.1240339   .0222641    -5.57   0.000    -.1676872   -.0803806
        var8 |  -.0000875   .0002194    -0.40   0.690    -.0005177    .0003426
        var9 |  -.0000925   .0003261    -0.28   0.777    -.0007319    .0005468
       var14 |  -.0324758   .0196345    -1.65   0.098    -.0709731    .0060216
       var15 |  -.0285963   .0245544    -1.16   0.244    -.0767402    .0195477
       _cons |   .1166675   .0083842    13.92   0.000     .1002285    .1331066
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     firm_id |      3207        3207           0    *|
          yh |        12           1          11     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(MWFE estimator converged in 4 iterations)

Stored estimation results
-------------------------
----------------------------------------------------------------------------
             |           Dependent  Number of        
        Name | Command    variable     param.  Title 
-------------+--------------------------------------------------------------
_ivreg2_var3 | ivreg2         var3          7  First-stage regression: var3
_ivreg2_var5 | ivreg2         var5          7  First-stage regression: var5
_ivreg2_var9 | ivreg2         var9          7  First-stage regression: var9
_ivreg2_v~15 | ivreg2        var15          7  First-stage regression: var15
----------------------------------------------------------------------------

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on firm_id

Number of clusters (firm_id) =    3207                Number of obs =    38436
                                                      F(  7,  3206) =    16.12
                                                      Prob > F      =   0.0000
Total (centered) SS     =   1211.55256                Centered R2   =  -0.0025
Total (uncentered) SS   =   1211.55256                Uncentered R2 =  -0.0025
Residual SS             =  1214.589087                Root MSE      =    .1778

------------------------------------------------------------------------------
             |               Robust
growth_rat~e | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        var3 |  -.1503917    .079084    -1.90   0.057     -.305452    .0046686
        var5 |   .1086627   .0957794     1.13   0.257    -.0791323    .2964577
        var9 |    .004267    .001564     2.73   0.006     .0012005    .0073335
       var15 |   .0423446   .0691418     0.61   0.540     -.093222    .1779111
        var4 |  -.1726076   .0835322    -2.07   0.039    -.3363894   -.0088257
        var8 |  -.0033708   .0011765    -2.86   0.004    -.0056776   -.0010639
       var14 |  -.0840507   .0542345    -1.55   0.121    -.1903885     .022287
------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             31.202
                                                   Chi-sq(1) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):              342.892
                         (Kleibergen-Paap rk Wald F statistic):          8.354
Stock-Yogo weak ID test critical values:                       <not available>
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         0.000
                                                 (equation exactly identified)
------------------------------------------------------------------------------
Instrumented:         var3 var5 var9 var15
Included instruments: var4 var8 var14
Excluded instruments: var6 var7 var10 var16
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     firm_id |      3207        3207           0    *|
          yh |        12           1          11     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
→ Spec 7: hhi_seniority
(MWFE estimator converged in 4 iterations)

HDFE Linear regression                            Number of obs   =     38,436
Absorbing 2 HDFE groups                           F(   7,   3206) =      21.92
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3553
                                                  Adj R-squared   =     0.2962
                                                  Within R-sq.    =     0.0114
Number of clusters (firm_id) =      3,207         Root MSE        =     0.1844

                            (Std. err. adjusted for 3,207 clusters in firm_id)
------------------------------------------------------------------------------
             |               Robust
growth_rat~e | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        var3 |   -.021632   .0263224    -0.82   0.411    -.0732424    .0299784
        var5 |   .0644076   .0246208     2.62   0.009     .0161334    .1126818
        var4 |  -.1261419   .0220191    -5.73   0.000    -.1693149   -.0829689
       var11 |   2.72e-06   3.07e-06     0.89   0.375    -3.29e-06    8.73e-06
       var12 |   .0000199   5.90e-06     3.38   0.001     8.37e-06    .0000315
       var14 |  -.0267149   .0197905    -1.35   0.177    -.0655182    .0120884
       var15 |   .0023572   .0251289     0.09   0.925    -.0469131    .0516275
       _cons |   .1124035    .008284    13.57   0.000     .0961611    .1286459
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     firm_id |      3207        3207           0    *|
          yh |        12           1          11     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(MWFE estimator converged in 4 iterations)

Stored estimation results
-------------------------
----------------------------------------------------------------------------
             |           Dependent  Number of        
        Name | Command    variable     param.  Title 
-------------+--------------------------------------------------------------
_ivreg2_var3 | ivreg2         var3          7  First-stage regression: var3
_ivreg2_var5 | ivreg2         var5          7  First-stage regression: var5
_ivreg2_v~12 | ivreg2        var12          7  First-stage regression: var12
_ivreg2_v~15 | ivreg2        var15          7  First-stage regression: var15
----------------------------------------------------------------------------

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on firm_id

Number of clusters (firm_id) =    3207                Number of obs =    38436
                                                      F(  7,  3206) =    22.02
                                                      Prob > F      =   0.0000
Total (centered) SS     =   1211.55256                Centered R2   =   0.0090
Total (uncentered) SS   =   1211.55256                Uncentered R2 =   0.0090
Residual SS             =  1200.658132                Root MSE      =    .1768

------------------------------------------------------------------------------
             |               Robust
growth_rat~e | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        var3 |  -.1588283   .0717414    -2.21   0.027     -.299492   -.0181645
        var5 |   .0556966   .1010561     0.55   0.582    -.1424445    .2538377
       var12 |   .0000557   .0000177     3.15   0.002      .000021    .0000903
       var15 |   .1197043   .0681462     1.76   0.079    -.0139102    .2533189
        var4 |   -.120659   .0868561    -1.39   0.165    -.2909581    .0496402
       var11 |  -.0000213   .0000124    -1.71   0.087    -.0000457    3.08e-06
       var14 |  -.1122402   .0541751    -2.07   0.038    -.2184615   -.0060189
------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             23.678
                                                   Chi-sq(1) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):              597.009
                         (Kleibergen-Paap rk Wald F statistic):          7.701
Stock-Yogo weak ID test critical values:                       <not available>
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         0.000
                                                 (equation exactly identified)
------------------------------------------------------------------------------
Instrumented:         var3 var5 var12 var15
Included instruments: var4 var11 var14
Excluded instruments: var6 var7 var13 var16
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     firm_id |      3207        3207           0    *|
          yh |        12           1          11     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
→ Spec 8: rent_hhi_seniority
(MWFE estimator converged in 4 iterations)

HDFE Linear regression                            Number of obs   =     38,436
Absorbing 2 HDFE groups                           F(   9,   3206) =      17.40
Statistics robust to heteroskedasticity           Prob > F        =     0.0000
                                                  R-squared       =     0.3553
                                                  Adj R-squared   =     0.2962
                                                  Within R-sq.    =     0.0114
Number of clusters (firm_id) =      3,207         Root MSE        =     0.1844

                            (Std. err. adjusted for 3,207 clusters in firm_id)
------------------------------------------------------------------------------
             |               Robust
growth_rat~e | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        var3 |  -.0188575     .02893    -0.65   0.515    -.0755808    .0378657
        var5 |    .064524   .0251572     2.56   0.010     .0151982    .1138499
        var4 |  -.1250999   .0223322    -5.60   0.000    -.1688868    -.081313
        var8 |  -.0000797   .0002212    -0.36   0.718    -.0005134    .0003539
        var9 |  -.0000463   .0003257    -0.14   0.887    -.0006849    .0005922
       var11 |   2.69e-06   3.09e-06     0.87   0.384    -3.37e-06    8.75e-06
       var12 |   .0000199   5.96e-06     3.33   0.001     8.19e-06    .0000316
       var14 |  -.0265875   .0197643    -1.35   0.179    -.0653395    .0121645
       var15 |   .0024374   .0251137     0.10   0.923    -.0468031    .0516779
       _cons |   .1133965   .0089402    12.68   0.000     .0958674    .1309257
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     firm_id |      3207        3207           0    *|
          yh |        12           1          11     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation
(MWFE estimator converged in 4 iterations)

Stored estimation results
-------------------------
----------------------------------------------------------------------------
             |           Dependent  Number of        
        Name | Command    variable     param.  Title 
-------------+--------------------------------------------------------------
_ivreg2_var3 | ivreg2         var3          9  First-stage regression: var3
_ivreg2_var5 | ivreg2         var5          9  First-stage regression: var5
_ivreg2_var9 | ivreg2         var9          9  First-stage regression: var9
_ivreg2_v~12 | ivreg2        var12          9  First-stage regression: var12
_ivreg2_v~15 | ivreg2        var15          9  First-stage regression: var15
----------------------------------------------------------------------------

IV (2SLS) estimation
--------------------

Estimates efficient for homoskedasticity only
Statistics robust to heteroskedasticity and clustering on firm_id

Number of clusters (firm_id) =    3207                Number of obs =    38436
                                                      F(  9,  3206) =    17.69
                                                      Prob > F      =   0.0000
Total (centered) SS     =   1211.55256                Centered R2   =   0.0003
Total (uncentered) SS   =   1211.55256                Uncentered R2 =   0.0003
Residual SS             =    1211.1496                Root MSE      =    .1776

------------------------------------------------------------------------------
             |               Robust
growth_rat~e | Coefficient  std. err.      t    P>|t|     [95% conf. interval]
-------------+----------------------------------------------------------------
        var3 |  -.2699356   .0832479    -3.24   0.001    -.4331601   -.1067111
        var5 |    .045316   .1002102     0.45   0.651    -.1511666    .2417986
        var9 |   .0043768   .0016105     2.72   0.007     .0012191    .0075345
       var12 |   .0000527   .0000179     2.94   0.003     .0000176    .0000877
       var15 |   .1151833   .0686195     1.68   0.093    -.0193593    .2497258
        var4 |  -.1234421   .0877292    -1.41   0.160    -.2954531    .0485688
        var8 |  -.0033842    .001218    -2.78   0.005    -.0057722   -.0009961
       var11 |  -.0000188   .0000127    -1.48   0.139    -.0000437    6.13e-06
       var14 |   -.104832    .054314    -1.93   0.054    -.2113257    .0016617
------------------------------------------------------------------------------
Underidentification test (Kleibergen-Paap rk LM statistic):             31.207
                                                   Chi-sq(1) P-val =    0.0000
------------------------------------------------------------------------------
Weak identification test (Cragg-Donald Wald F statistic):              256.356
                         (Kleibergen-Paap rk Wald F statistic):          6.617
Stock-Yogo weak ID test critical values:                       <not available>
------------------------------------------------------------------------------
Hansen J statistic (overidentification test of all instruments):         0.000
                                                 (equation exactly identified)
------------------------------------------------------------------------------
Instrumented:         var3 var5 var9 var12 var15
Included instruments: var4 var8 var11 var14
Excluded instruments: var6 var7 var10 var13 var16
Partialled-out:       _cons
                      nb: total SS, model F and R2s are after partialling-out;
                          any small-sample adjustments include partialled-out
                          variables in regressor count K
------------------------------------------------------------------------------

Absorbed degrees of freedom:
-----------------------------------------------------+
 Absorbed FE | Categories  - Redundant  = Num. Coefs |
-------------+---------------------------------------|
     firm_id |      3207        3207           0    *|
          yh |        12           1          11     |
-----------------------------------------------------+
* = FE nested within cluster; treated as redundant for DoF computation

. 
. // 5) Close & export
. postclose handle

. use `out', clear

. export delimited using "`result_dir'/consolidated_results.csv", ///
>     replace delimiter(",") quote
file ../results/raw/firm_mechanisms/consolidated_results.csv saved

. 
. display as result "→ CSV written to `result_dir'/consolidated_results.csv"
→ CSV written to ../results/raw/firm_mechanisms/consolidated_results.csv

. capture log close

-----------------------------------------------------------------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /Users/saul/Dropbox/Remote Work Startups/main/spec/log/user_mechanisms_wagegap.log
  log type:  text
 opened on:  28 May 2025, 05:09:55

. 
. // --------------------------------------------------------------------------
. // 0) Globals + setup
. // --------------------------------------------------------------------------
. do "../src/globals.do"

. global raw_data "../data/raw"

. global processed_data  "../data/processed"

. global results "../results/raw"

. global clean_results "../results/cleaned"

. 
. 
. 
end of do-file

. local result_dir "$results/`specname'"

. capture mkdir "`result_dir'"

. 
. // --------------------------------------------------------------------------
. // 1) Load data & build interactions
. // --------------------------------------------------------------------------
. use "$processed_data/user_panel.dta", clear

. 
. gen seniority_4 = !inrange(seniority_levels,1,3)

. 
. // Wage dispersion interactions var17–22
. gen var17 = covid * sd_wage
(3 missing values generated)

. gen var18 = covid * sd_wage * remote
(3 missing values generated)

. gen var19 = teleworkable * covid * sd_wage
(3,736 missing values generated)

. 
. gen var20 = covid * p90_p10_gap

. gen var21 = covid * p90_p10_gap * remote

. gen var22 = teleworkable * covid * p90_p10_gap
(3,733 missing values generated)

. 
. // --------------------------------------------------------------------------
. // 2) Postfile
. // --------------------------------------------------------------------------
. capture postclose handle

. tempfile out

. postfile handle ///
>     str8   model_type ///
>     str244 spec       ///
>     str40  param      ///
>     double coef se pval pre_mean rkf nobs ///
>     using `out', replace
(file /var/folders/hg/s3xm9w393gxby64_zklmhgbc0000gn/T//S_39148.000001 not found)

. 
. // --------------------------------------------------------------------------
. // 3) Specs list (24 combos containing sd_wage or gap)
. // --------------------------------------------------------------------------
. local specs "sd_wage gap sd_wage_gap ///
invalid syntax
r(198);

end of do-file

r(198);

. do "/Users/saul/Dropbox/Remote Work Startups/main/spec/firm_mechanisms_wagegap.do"

. *============================================================*
. *  do/firm_mechanisms_wagegap.do                              *
. *  — Wage-dispersion extension of firm_mechanisms.do          *
. *      Adds sd_wage and p90_p10_gap to the mechanism horse    *
. *      race *alongside* rent, HHI and seniority.              *
. *                                                            *
. *  Generates all 24 specs that include at least one of the    *
. *  two wage-dispersion variables.  Baseline and the original  *
. *  8 rent/HHI/seniority specs remain in firm_mechanisms.do.   *
. *============================================================*
. 
. capture log close
